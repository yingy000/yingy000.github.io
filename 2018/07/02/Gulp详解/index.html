<!DOCTYPE HTML>
<html lang="Chinese">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="天使在人间の博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://yoursite.com">
    <!--SEO-->





<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->


<title>Gulp详解 | 天使在人间の博客</title>


    <link rel="alternate" href="/atom.xml" title="天使在人间の博客" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>






    

    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>

</head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(http://snippet.shenliyang.com/img/banner.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='Yang Ying'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://yoursite.com">天使在人间の博客</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>Home</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/前端/"><i class="fa "></i>前端</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/Camera/"><i class="fa "></i>Camera</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/工具/"><i class="fa "></i>工具</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/资源/"><i class="fa "></i>资源</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/生活/"><i class="fa "></i>生活</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="Gulp详解">
            
	            Gulp详解
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/博客列表">
            博客列表
        </a>
    </span>
    

    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
                    <a href="/tags/Gulp" title='Gulp'>
                        Gulp
                    </a>
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/07/02</span>
        </span>
        
    
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <blockquote>
<p>一名合格的前端开发人员，怎么可能不想办法尽可能的做到更好的性能优化。如果可以合理的利用一些构建工具，例如<code>Gulp</code>、<code>Grunt</code>等，这样可以达到事半功倍的效果，本篇文章就来介绍一下<code>Gulp</code>的基本用法。</p>
</blockquote>
<h2 id="Gulp是什么以及用来做什么？"><a href="#Gulp是什么以及用来做什么？" class="headerlink" title="Gulp是什么以及用来做什么？"></a>Gulp是什么以及用来做什么？</h2><p>gulp是基于node的一个自动化构建工具</p>
<p>用途：</p>
<ul>
<li><p>1、搭建Web服务器</p>
</li>
<li><p>2、浏览器自动刷新</p>
</li>
<li><p>3、使用预处理器Sass、Less</p>
</li>
<li><p>4、浏览器的兼容处理(添加前缀)</p>
</li>
<li><p>5、外部文件的自动压缩(图片文件、css文件、JS文件)</p>
</li>
</ul>
<h2 id="创建Gulp工具"><a href="#创建Gulp工具" class="headerlink" title="创建Gulp工具"></a>创建Gulp工具</h2><p>我们需要下载Gulp,gulp是基于node的一个自动化构建工具,node可以做网站、但是更大的用处是用作构建工具的。</p>
<p>（1）package.json文件</p>
<p><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_8.png" alt=" "></p>
<p>（2）下载gulp：</p>
<ul>
<li>下载全局的gulp</li>
</ul>
<p>路径地址：C:\Users\dell\AppData\Roaming\npm\node_modules\gulp\bin\gulp.js<br><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_9.png" alt=" "></p>
<ul>
<li>下载非全局gulp<br><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_10.png" alt=" "></li>
</ul>
<p>我们首先的搭建一个像样的工程的目录结构：</p>
<p><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_1.png" alt=" "></p>
<p><code>gulpfile.js</code>就是我们需要编写的地方了,加油吧！！！</p>
<h2 id="第一步：引入gulp"><a href="#第一步：引入gulp" class="headerlink" title="第一步：引入gulp"></a>第一步：引入gulp</h2><p><code>var gulp = require(&#39;gulp&#39;);</code></p>
<p>这行命令告知Node去<code>node_modules</code>中查找<code>gulp</code>包，先局部查找，找不到就去全局环境中查找。找到之后就会赋值给<code>gulp</code>变量，然后我们就可以使用它了。</p>
<h2 id="第二步：创建一个简单任务："><a href="#第二步：创建一个简单任务：" class="headerlink" title="第二步：创建一个简单任务："></a>第二步：创建一个简单任务：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;task-name&apos;, function() &#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>task-name</code>是任务的名字，我们想要查看运行结果的话，就在Git中输入<code>gulp task-name</code>，将运行该任务。</p>
<p>我们可以测试一下：(在git中输入<code>gulp hello</code>)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line">gulp.task(<span class="string">'hello'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello World!'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_2.png" alt=" "></p>
<p>我们可以看到成功输出了<code>Hello World</code>，但是如果你真的认为Gulp这么简单的话，那你就错了,我们来看一些我们在平时的项目开发中可以用到的一些。</p>
<h2 id="第三步：创建复杂任务"><a href="#第三步：创建复杂任务" class="headerlink" title="第三步：创建复杂任务"></a>第三步：创建复杂任务</h2><p><code>Gulp</code>任务通常会包含两个特定的<code>Gulp</code>方法和一些<code>Gulp</code>插件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'task-name'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'source-files'</span>) <span class="comment">// 输入源文件的地址</span></span><br><span class="line">    .pipe(aGulpPlugin()) <span class="comment">// 通过一个Gulp插件发送</span></span><br><span class="line">    .pipe(gulp.dest(<span class="string">'destination'</span>)) <span class="comment">// 输出目标文件的地址</span></span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>
<p>解释：</p>
<ul>
<li><p><code>gulp().task</code>:配置我们的具体任务</p>
</li>
<li><p><code>gulp.src()</code>：获取需要构建资源的路径，传递的参数必须是一个路径。</p>
</li>
<li><p><code>gulp.dest()</code>：放置我们构建好的资源的路径，传递的参数也必须是一个路径。</p>
</li>
<li><p><code>pipe()</code>：类似于管道的作用，起到一个’承上启下’的作用，上一次的处理结果，当做下一次传递参数。</p>
</li>
</ul>
<p>注意：Gulp的开发者很厉害，所有的功能都是采用插件的机制，你需要用什么功能你直接安装插件、引入就可以使用了，这样做避免了将所有的方法都封装在Gulp当中，避免了Gulp过于庞大、笨重的问题。Gulp只是有个这样的任务<code>gulp().task</code>，但是具体的功能还是要依靠安装插件来实现。说的通俗一点就是Gulp什么事情都不干，专门<code>&quot;指挥&quot;</code>别人干。</p>
<h2 id="第四步：将-sass文件转化成-css文件。"><a href="#第四步：将-sass文件转化成-css文件。" class="headerlink" title="第四步：将.sass文件转化成.css文件。"></a>第四步：将<code>.sass</code>文件转化成<code>.css</code>文件。</h2><p>需要给<code>sass</code>任务提供源文件和输出位置,所以我们先在项目中创建<code>app/scss</code>文件夹,里面有个<code>styles.scss</code>文件。</p>
<p>在第三个步骤中我们说过Gulp任务通常会包含两个特定的<code>Gulp</code>方法和一些<code>Gulp</code>插件，现在我们需要先安装<code>gulp-sass</code>插件我们再来写具体的方法。</p>
<ul>
<li>插件安装：<code>npm install gulp-sass --save-dev</code></li>
</ul>
<ul>
<li>引入gulp和sass。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var gulp=require(&quot;gulp&quot;);</span><br><span class="line">var sass=require(&quot;gulp-sass&quot;);</span><br></pre></td></tr></table></figure>
<ul>
<li>输入和输出的方法</li>
</ul>
<p><code>sass</code>处理之后，我们希望它生成<code>css</code>文件并产出到<code>app/css</code>目录下<code>(style.css)</code>，可以这样写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var gulp=require(&quot;gulp&quot;);</span><br><span class="line">var sass=require(&quot;gulp-sass&quot;);</span><br><span class="line">gulp.task(&apos;sass&apos;,function()&#123;</span><br><span class="line">	return gulp.scr(&quot;app/scss/styles.scss&quot;)//源文件位置</span><br><span class="line">         .pipe(sass())</span><br><span class="line">         .pipe(gulp.dest(&quot;app/css&quot;)) //目标位置。</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>好了，我们先在需要测试一下，在<code>style.scss</code>中写入一些<code>scss</code>命令，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义变量</span></span><br><span class="line">$color:pink;</span><br><span class="line">.test1&#123;</span><br><span class="line">    background-color:$color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用<code>Git</code>执行<code>gulp sass</code>,你将看到<code>app/css/</code>目录中多了<code>styles.css</code>文件,并且有下面的代码.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.test1 &#123;</span><br><span class="line">  background-color: pink;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_3.png" alt=" "></p>
<p>这样我们就把<code>.sass</code>文件转化成<code>.css</code>文件，这个是Gulp自动转化成的，我们就只需要写几行代码就可以办到了，我们使用sass写css样式大大简化了操作，提高了开发效率。在实际的开发过程中。不只有一个.sass文件，我们可以使用Node通配符来匹配多个<code>.css</code>文件,我们应该学会合理的使用正则表达式。</p>
<h2 id="第五步：Node通配符了解一下"><a href="#第五步：Node通配符了解一下" class="headerlink" title="第五步：Node通配符了解一下"></a>第五步：Node通配符了解一下</h2><p>使用通配符，计算机检查文件名和路径进行匹配。</p>
<p>大部分时候，我们只需要用到下面4种匹配模式：</p>
<ul>
<li><p><code>*.scss：</code>:<code>*</code>号匹配当前目录任意文件，所以这里<code>*.scss</code>匹配当前目录下所有scss文件</p>
</li>
<li><p><code>**/*.scss：</code>:匹配当前目录及其子目录下的所有scss文件。</p>
</li>
<li><p><code>!not-me.scss：</code>:<code>！</code>号移除匹配的文件，这里将移除<code>not-me.scss</code></p>
</li>
<li><p><code>*.+(scss|sass)</code>：<code>+</code>号后面会跟着圆括号，里面的元素用<code>|</code>分割，匹配多个选项。这里将匹配scss和sass文件。</p>
</li>
</ul>
<p>现在需要将任何app下的scss文件，在执行命令之后将生成对应的css文件存放到<code>app/css/</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var gulp=require(&apos;gulp&apos;);</span><br><span class="line">var sass=require(&apos;gulp-sass&apos;);</span><br><span class="line">gulp.task(&apos;sass&apos;,function()&#123;</span><br><span class="line">	return gulp.src(&quot;app/sass/**/*.scss&quot;)</span><br><span class="line">	        .pipe(sass())</span><br><span class="line">	        .pipe(gulp.dest(&quot;app/css&quot;))</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="第六步：给所有的css添加前缀"><a href="#第六步：给所有的css添加前缀" class="headerlink" title="第六步：给所有的css添加前缀"></a>第六步：给所有的css添加前缀</h2><p>给css添加不同的浏览器内核的前缀有着重要的意义，这个可以很好地解决浏览器之间的兼容性问题，如果让我们一个一个去加的话那也太麻烦了，幸好Gulp可以帮助我们自动完成这个繁琐的任务，那就需要用到<code>autoprefixer</code>插件了。</p>
<ul>
<li><p>插件的安装：<code>npm install  gulp-autoprefixer --save-dev</code></p>
</li>
<li><p>引入<code>var autoprefixer=require(&quot;gulp-autoprefixer&quot;)</code>;</p>
</li>
<li><p>输入输出函数：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var autoprefixer=require(&quot;gulp-autoprefixer&quot;);</span><br><span class="line">gulp.task(&apos;css&apos;,function()&#123;</span><br><span class="line">  return gulp.src(&quot;app/css/**/*.css&quot;)</span><br><span class="line">  //pipe()方法：前一次的结果会当成后一次的输入</span><br><span class="line">             .pipe(autoprefixer())</span><br><span class="line">             .pipe(gulp.dest(&quot;dist&quot;));</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="第六步：开启自动监听"><a href="#第六步：开启自动监听" class="headerlink" title="第六步：开启自动监听"></a>第六步：开启自动监听</h2><p>我们有没有发现每次我们写一些新的功能的时候，我们都要输入<code>gulp task-name</code>，这样是不是超级麻烦，我们需要自动监听。</p>
<p>语法格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.watch(&apos;files-to-watch&apos;, [&apos;tasks&apos;, &apos;to&apos;, &apos;run&apos;]);</span><br></pre></td></tr></table></figure>
<ul>
<li><p>监听一个文件：<code>gulp.watch(&#39;app/scss/**/*.scss&#39;, [&#39;sass&#39;])</code>;</p>
</li>
<li><p>监听一个任务</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;watch&apos;, function()&#123;</span><br><span class="line">  gulp.watch(&apos;app/scss/**/*.scss&apos;, [&apos;sass&apos;]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>我们可以来测试一下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> sass = <span class="built_in">require</span>(<span class="string">'gulp-sass'</span>);</span><br><span class="line">gulp.task(<span class="string">'sass'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> gulp.src(<span class="string">'app/scss/styles.scss'</span>)</span><br><span class="line">		.pipe(sass())</span><br><span class="line">		.pipe(gulp.dest(<span class="string">'app/css'</span>))</span><br><span class="line">&#125;);</span><br><span class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">gulp.watch(<span class="string">'app/scss/**/*.scss'</span>, [<span class="string">'sass'</span>]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在Gulp中执行<code>gulp watch</code>,可以看到现在的从<code>.sass</code>文件到<code>.css</code>文件的转换过程是处于监听状态的，</p>
<p><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_4.png" alt=" "></p>
<p>也就是说，我们每次修改<code>.sass</code>文件，就有Gulp帮我们自动执行，不用再手动执行了。这是一张盗的图,很炫酷的图。</p>
<p><img src="https://dn-w3ctrain.qbox.me/gulp-for-beginner-watch-compile.gif" alt=" "></p>
<h2 id="第七步：浏览器的自动刷新-Browser-Sync"><a href="#第七步：浏览器的自动刷新-Browser-Sync" class="headerlink" title="第七步：浏览器的自动刷新(Browser Sync)"></a>第七步：浏览器的自动刷新(Browser Sync)</h2><p>Gulp可不可以帮忙自动刷新浏览器呢，好期待呀,可以试一下。</p>
<ul>
<li><p>插件的安装：<code>npm install browser-sync --save-dev</code></p>
</li>
<li><p>引入sync</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var gulp=require(&quot;gulp&quot;);</span><br><span class="line">var sass=require(&quot;gulp-sass&quot;);</span><br><span class="line">var sync=require(&quot;gulp-sync&quot;);</span><br></pre></td></tr></table></figure>
<ul>
<li>输入和输出的方法</li>
</ul>
<p>创建一个<code>broswerSync</code>任务，我们需要告知它，根目录在哪里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;sync&apos;,function()&#123;</span><br><span class="line">	browserSync(&#123;</span><br><span class="line">    server: &#123;</span><br><span class="line">      baseDir: &apos;app&apos;  //根目录的位置</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>修改一下任务sass，让每次css文件更改都刷新一下浏览器</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'sass'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> gulp.src(<span class="string">'app/scss/styles.scss'</span>)</span><br><span class="line">		.pipe(sass())</span><br><span class="line">		.pipe(gulp.dest(<span class="string">'app/css'</span>))</span><br><span class="line">		.pipe(browserSync.reload(&#123;</span><br><span class="line">         stream: <span class="literal">true</span></span><br><span class="line">     &#125;))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>注意：我们必须在watch任务之前告知Gulp，先把任务<code>browserSync</code>和任务<code>Sass</code>执行了再说。</p>
<p>语法格式如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;watch&apos;, [&apos;array&apos;, &apos;of&apos;, &apos;tasks&apos;, &apos;to&apos;, &apos;complete&apos;,&apos;before&apos;, &apos;watch&apos;], function ()&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>终极板的浏览器自动刷新效果:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="comment">// Requires the gulp-sass plugin</span></span><br><span class="line"><span class="keyword">var</span> sass = <span class="built_in">require</span>(<span class="string">'gulp-sass'</span>);</span><br><span class="line"><span class="keyword">var</span> browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>);</span><br><span class="line">gulp.task(<span class="string">'browserSync'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  browserSync(&#123;</span><br><span class="line">    server: &#123;</span><br><span class="line">      baseDir: <span class="string">'app'</span><span class="comment">//根目录的位置</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">gulp.task(<span class="string">'sass'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'app/scss/**/*.scss'</span>)</span><br><span class="line">    .pipe(sass())</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'app/css'</span>))</span><br><span class="line">    .pipe(browserSync.reload(&#123;</span><br><span class="line">      stream: <span class="literal">true</span></span><br><span class="line">    &#125;))</span><br><span class="line">&#125;);   <span class="comment">//在监听之前先执行browserSync和sass函数</span></span><br><span class="line">gulp.task(<span class="string">'watch'</span>, [<span class="string">'browserSync'</span>, <span class="string">'sass'</span>], <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  gulp.watch(<span class="string">'app/scss/**/*.scss'</span>, [<span class="string">'sass'</span>]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>当执行<code>gulp watch</code>命令之后，首先会执行<code>browserSync</code>在执行<code>Sass</code>，才会开始监听。</p>
<p><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_5.png" alt=" "></p>
<p>并且现在浏览器的显示的页面为<code>app/index.html</code>。修改了<code>styles.scss</code>之后，浏览器会自动刷新。</p>
<p><img src="https://dn-w3ctrain.qbox.me/gulp-for-beginner-bs-change-bg.gif" alt=" "></p>
<p>我们已经让<code>.sass</code>文件自动刷新了，应该让所有的文件都实现自动刷新的效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;watch&apos;, [&apos;browserSync&apos;, &apos;sass&apos;], function ()&#123;</span><br><span class="line">  gulp.watch(&apos;app/scss/**/*.scss&apos;, [&apos;sass&apos;]);</span><br><span class="line">  gulp.watch(&apos;app/*.html&apos;, browserSync.reload);</span><br><span class="line">  gulp.watch(&apos;app/js/**/*.js&apos;, browserSync.reload);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="第八步：合并多个JS文件。"><a href="#第八步：合并多个JS文件。" class="headerlink" title="第八步：合并多个JS文件。"></a>第八步：合并多个JS文件。</h2><p>一般我们引入的JS文件都是这样的，路径都不太相同，那么该怎么合并呢?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;js/lib/commonobj.js&quot; &gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;js/lib/require.js&quot; &gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><code>gulp-useref</code>插件会将多个文件拼接成单一文件，并输出到相应目录。我们需要把合并的信息写到<code>&lt;!--bulid--&gt;</code>当中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- build:&lt;type&gt; &lt;path&gt; --&gt;</span><br><span class="line">    在这里引入外部资源文件</span><br><span class="line">&lt;!-- endbuild --&gt;</span><br></pre></td></tr></table></figure>
<p>不仅需要明确要压缩的文件的路径，还必须知道输出的路径，最终的产出为main.min.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!--build:js js/main.min.js --&gt;</span><br><span class="line">		&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"js/lib/commonobj.js"</span> &gt;&lt;/script&gt;</span><br><span class="line">		&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"js/lib/require.js"</span> &gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- endbuild --&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>插件安装：<code>npm install gulp-useref --save-dev</code></p>
</li>
<li><p>引用：<code>var useref = require(&#39;gulp-useref&#39;);</code></p>
</li>
<li><p>输入和输出的方法：</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'useref'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'app/*.html'</span>)</span><br><span class="line">        .pipe(useref())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>执行 <code>gulp useref</code>命令，Gulp将合并三个script标签成一个文件，并保存到<code>dist/js/main.min.js</code>。</p>
<p><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_6.png" alt=" "></p>
<h2 id="第九步：压缩合并后的JS文件"><a href="#第九步：压缩合并后的JS文件" class="headerlink" title="第九步：压缩合并后的JS文件"></a>第九步：压缩合并后的JS文件</h2><ul>
<li><p>插件安装：<code>npm install gulp-uglify --save-dev</code></p>
</li>
<li><p>引用：<code>var uglify = require(&#39;gulp-uglify&#39;);</code></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;useref&apos;, function()&#123;</span><br><span class="line">  return gulp.src(&apos;app/*.html&apos;)</span><br><span class="line">    .pipe(uglify())</span><br><span class="line">    .pipe(useref())</span><br><span class="line">    .pipe(gulp.dest(&apos;dist&apos;))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>执行 <code>gulp useref</code>命令，<code>dist/js/main.min.js</code>中的文件就被压缩了。</p>
<p>这下压缩、合并就搞定了，开心开心……</p>
<p>现在执行完<code>gulp useref</code>命令后，我们会发现<code>.html</code>文件中的script路径将只剩下<code>main.min.js</code>，这是很正常的事情，因为已经生成新的<code>main.min.js</code>文件，并且体积更小，肯定引入的是最新生成的JS文件。</p>
<p><img src="http://images.cnblogs.com/cnblogs_com/cliy-10/1246145/o_7.png" alt=" "></p>
<h2 id="第十步：压缩CSS文件"><a href="#第十步：压缩CSS文件" class="headerlink" title="第十步：压缩CSS文件"></a>第十步：压缩CSS文件</h2><ul>
<li><p>插件安装：<code>npm install gulp-if gulp-minify-css --save-dev</code></p>
</li>
<li><p>引用：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var gulpIf = require(&apos;gulp-if&apos;);</span><br><span class="line">var minifyCSS = require(&apos;gulp-minify-css&apos;);</span><br></pre></td></tr></table></figure>
<ul>
<li>输入输出方法：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">gulp.task(<span class="string">'useref'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'app/*.html'</span>)</span><br><span class="line">    <span class="comment">// 只有当它是一个CSS文件时才会出现</span></span><br><span class="line">    .pipe(gulpIf(<span class="string">'*.css'</span>, minifyCSS()))</span><br><span class="line">    <span class="comment">// 只有当它是一个Javascript文件时才会出现</span></span><br><span class="line">    .pipe(gulpIf(<span class="string">'*.js'</span>, uglify()))</span><br><span class="line">    .pipe(useref())</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="第十一步：图片文件处理"><a href="#第十一步：图片文件处理" class="headerlink" title="第十一步：图片文件处理"></a>第十一步：图片文件处理</h2><ul>
<li><p>插件安装：<code>npm install gulp-imagemin --save-dev</code></p>
</li>
<li><p>引入：<code>var imagemin = require(&#39;gulp-imagemin&#39;);</code></p>
</li>
<li><p>输入输出方法：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;images&apos;, function()&#123;</span><br><span class="line">  return gulp.src(&apos;app/images/**/*.+(png|jpg|gif|svg)&apos;)</span><br><span class="line">  .pipe(imagemin())</span><br><span class="line">  .pipe(gulp.dest(&apos;dist/images&apos;))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>压缩图片可能会占用较长时间，使用 <code>gulp-cache</code>插件可以减少重复压缩。</p>
<ul>
<li><p>插件安装：<code>npm install gulp-cache --save-dev</code></p>
</li>
<li><p>引入：<code>var cache = require(&#39;gulp-cache&#39;);</code></p>
</li>
<li><p>输入输出：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;images&apos;, function()&#123;</span><br><span class="line">  return gulp.src(&apos;app/images/**/*.+(png|jpg|jpeg|gif|svg)&apos;)</span><br><span class="line">  .pipe(cache(imagemin(&#123;</span><br><span class="line">      interlaced: true</span><br><span class="line">    &#125;)))</span><br><span class="line">  .pipe(gulp.dest(&apos;dist/images&apos;))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="第十二步：清理生成文件"><a href="#第十二步：清理生成文件" class="headerlink" title="第十二步：清理生成文件"></a>第十二步：清理生成文件</h2><p>自动生成了新的压缩版文件之后，就可以把旧的未压缩的、分散的文件给删除了。</p>
<ul>
<li><p>插件安装：<code>npm install del --save-dev</code></p>
</li>
<li><p>引入<code>var del = require(&#39;del&#39;);</code></p>
</li>
<li><p>输入输出函数：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;clean&apos;, function() &#123;</span><br><span class="line">  del(&apos;dist&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>但是我们又不想图片被删除，因为图片改动的几率不大,这里就得利用正则表达式了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;clean:dist&apos;, function(callback)&#123;</span><br><span class="line">  del([&apos;dist/**/*&apos;, &apos;!dist/images&apos;, &apos;!dist/images/**/*&apos;], callback)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>这个任务会删除，除了<code>images/</code>文件夹，dist下的任意文件。</p>
<p>为了知道<code>clean:dist</code>任务什么时候完成，我们需要提供callback参数。</p>
<p>在某些时候我们还是需要清除图片，所以clean任务我们还需要保留。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;clean&apos;, function(callback) &#123;</span><br><span class="line">  del(&apos;dist&apos;);</span><br><span class="line">  return cache.clearAll(callback);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在实际的项目中可能用到的就只有这些了，我们需要组合一下这些<code>task</code>,组合成整体。</p>
<h2 id="第十三步：整合"><a href="#第十三步：整合" class="headerlink" title="第十三步：整合"></a>第十三步：整合</h2><p>通篇文章总共有两方面的内容：</p>
<ul>
<li><p>第一是开发过程，Sass的使用，监听文件，刷新浏览器。</p>
</li>
<li><p>第二是优化，优化CSS,JavaScript,压缩图片，并把资源从app移动到dist</p>
</li>
</ul>
<p>第一个方面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;watch&apos;, [&apos;browserSync&apos;, &apos;sass&apos;], function ()&#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>第二个方面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;build&apos;, [`clean`, `sass`, `useref`, `images`, `fonts`], function()&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>对于第二个来说，这样<code>Gulp</code>会同时触发多个事件，这样执行的逻辑是不对的，我们要让<code>clean</code>在其他任务之前完成。</p>
<p>这里需要用到<code>RunSequence</code>插件</p>
<ul>
<li><p>插件安装：<code>$ npm install run-sequence --save-dev</code></p>
</li>
<li><p>引入：<code>var runSequence = require(&#39;run-sequence&#39;)</code>;</p>
</li>
</ul>
<p>语法格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;task-name&apos;, function(callback) &#123;</span><br><span class="line">  runSequence(&apos;task-one&apos;, &apos;task-two&apos;, &apos;task-three&apos;, callback);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>执行<code>task-name</code>时，Gulp会按照顺序执行<code>task-one,task-two,task-thre</code>。</p>
<p><code>RunSequence</code>也允许你同时执行多个任务。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;task-name&apos;, function(callback) &#123;</span><br><span class="line">  runSequence(&apos;task-one&apos;, [&apos;tasks&apos;,&apos;two&apos;,&apos;run&apos;,&apos;in&apos;,&apos;parallel&apos;], &apos;task-three&apos;, callback);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>我们需要改变一下代码</p>
<ul>
<li>第二条线路：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;build&apos;, function (callback) &#123;</span><br><span class="line">  runSequence(&apos;clean:dist&apos;,</span><br><span class="line">    [&apos;sass&apos;, &apos;useref&apos;, &apos;images&apos;, &apos;fonts&apos;],</span><br><span class="line">    callback</span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>第一条线路：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(&apos;gulpdemo&apos;, function (callback) &#123;</span><br><span class="line">  runSequence([&apos;sass&apos;,&apos;browserSync&apos;, &apos;watch&apos;],</span><br><span class="line">    callback</span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>现在只需要执行 <code>gulp gulpdemo</code>命令,就可以完成上述所有的功能。</p>
<p>参考链接：<a href="https://w3ctrain.com/2015/12/22/gulp-for-beginners/?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">https://w3ctrain.com/2015/12/22/gulp-for-beginners/?utm_source=tuicool&amp;utm_medium=referral</a></p>
<p>最终版的代码在我的Github仓库，大家可以看一下。</p>

    </div>
    
        <div class="reward">
    <div class="reward-wrap">赏
        <div class="reward-box">
            
            
                <span class="reward-type">
                    <img class="wechat" src="https://www.cnblogs.com/images/cnblogs_com/cliy-10/1242272/o_reward-wepay.jpg"><b>微信打赏</b>
                </span>
            
        </div>
    </div>
    <p class="reward-tip">赞赏是不耍流氓的鼓励</p>
</div>


    
    <div class="post-footer">
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2018/07/04/javaScript客户端与服务器端的五种通信方式/" class="pre-post btn btn-default" title='javaScript客户端与服务器端的五种通信方式'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">javaScript客户端与服务器端的五种通信方式</span>
        </a>
    
    
        <a href="/2018/07/02/js的解析与执行过程/" class="next-post btn btn-default" title='js的解析与执行过程'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">js的解析与执行过程</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
    
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: 'xOKV9J4UeQAtVkvnJC7Kq2Jn-gzGzoHsz',
            appKey: 'erIpQac4azoCmgfBB7Dl9maa',
            placeholder: '说点什么吧',
            notify: true,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'Chinese'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">Table of Contents</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Gulp是什么以及用来做什么？"><span class="toc-text">Gulp是什么以及用来做什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建Gulp工具"><span class="toc-text">创建Gulp工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第一步：引入gulp"><span class="toc-text">第一步：引入gulp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第二步：创建一个简单任务："><span class="toc-text">第二步：创建一个简单任务：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第三步：创建复杂任务"><span class="toc-text">第三步：创建复杂任务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第四步：将-sass文件转化成-css文件。"><span class="toc-text">第四步：将.sass文件转化成.css文件。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第五步：Node通配符了解一下"><span class="toc-text">第五步：Node通配符了解一下</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第六步：给所有的css添加前缀"><span class="toc-text">第六步：给所有的css添加前缀</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第六步：开启自动监听"><span class="toc-text">第六步：开启自动监听</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第七步：浏览器的自动刷新-Browser-Sync"><span class="toc-text">第七步：浏览器的自动刷新(Browser Sync)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第八步：合并多个JS文件。"><span class="toc-text">第八步：合并多个JS文件。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第九步：压缩合并后的JS文件"><span class="toc-text">第九步：压缩合并后的JS文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第十步：压缩CSS文件"><span class="toc-text">第十步：压缩CSS文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第十一步：图片文件处理"><span class="toc-text">第十一步：图片文件处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第十二步：清理生成文件"><span class="toc-text">第十二步：清理生成文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第十三步：整合"><span class="toc-text">第十三步：整合</span></a></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
                <span>Copyright &copy; 2017
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>




    <script src="/assets/tagcanvas.min.js?rev=2.9"></script>
    <script>
        var tagOption = {
            textColour: '#444', // 字体颜色
            outlineMethod: 'block', // 选中模式
            outlineColour: '#FFDAB9', // 选中模式的颜色
            interval: 30 || 30, // 动画帧之间的时间间隔，值越大，转动幅度越大
            textHeight: 13,
            outlineRadius: 3,
            freezeActive: true || '', // 选中的标签是否继续滚动
            frontSelect: true || '', // 不选标签云后部的标签
            initial: [0.1, -0.1],
            depth: 0.5,
            decel: 0.95,
            maxSpeed: 0.03,
            reverse: true || '', // 是否反向触发
            fadeIn: 500, // 进入动画时间
            wheelZoom: true || '' // 是否启用鼠标滚轮
        }
        TagCanvas.Start('tag-cloud-3d','',tagOption);
    </script>




<script src="/js/app.js?rev=@@hash"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
</html>